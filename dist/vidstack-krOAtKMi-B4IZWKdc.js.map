{"version":3,"file":"vidstack-krOAtKMi-B4IZWKdc.js","sources":["../node_modules/@vidstack/react/prod/chunks/vidstack-krOAtKMi.js"],"sourcesContent":["\"use client\"\n\nconst videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n"],"names":["videoIdRE","infoCache","pendingFetch","resolveVimeoVideoId","src","matches","getVimeoVideoInfo","videoId","abort","videoHash","oembedSrc","promise","response","data","_a","_b","thumnailRegex","thumbnailId","poster","info"],"mappings":"AAEA,MAAMA,IAAY,8FACZC,IAA4B,oBAAI,IAAK,GACrCC,IAA+B,oBAAI,IAAK;AAC9C,SAASC,EAAoBC,GAAK;AAChC,QAAMC,IAAUD,EAAI,MAAMJ,CAAS;AACnC,SAAO,EAAE,SAASK,KAAA,gBAAAA,EAAU,IAAI,MAAMA,KAAA,gBAAAA,EAAU,GAAI;AACtD;AACA,eAAeC,EAAkBC,GAASC,GAAOC,GAAW;AAC1D,MAAIR,EAAU,IAAIM,CAAO,EAAG,QAAON,EAAU,IAAIM,CAAO;AACxD,MAAIL,EAAa,IAAIK,CAAO,EAAG,QAAOL,EAAa,IAAIK,CAAO;AAC9D,MAAIG,IAAY,wEAAwEH,CAAO;AAC/F,EAAIE,MACFC,IAAYA,EAAU,OAAO,MAAMD,CAAS,EAAE;AAEhD,QAAME,IAAU,OAAO,MAAMD,GAAW;AAAA,IACtC,MAAM;AAAA,IACN,QAAQF,EAAM;AAAA,EAClB,CAAG,EAAE,KAAK,CAACI,MAAaA,EAAS,MAAM,EAAE,KAAK,CAACC,MAAS;AAjBxD,QAAAC,GAAAC;AAkBI,UAAMC,IAAgB,+BAA+BC,KAAcF,KAAAD,IAAAD,KAAA,gBAAAA,EAAM,kBAAN,gBAAAC,EAAqB,MAAME,OAA3B,gBAAAD,EAA4C,IAAIG,IAASD,IAAc,gCAAgCA,CAAW,oBAAoB,IAAIE,IAAO;AAAA,MAClN,QAAON,KAAA,gBAAAA,EAAM,UAAS;AAAA,MACtB,WAAUA,KAAA,gBAAAA,EAAM,aAAY;AAAA,MAC5B,QAAAK;AAAA,MACA,KAAKL,EAAK,iBAAiB;AAAA,IAC5B;AACD,WAAAZ,EAAU,IAAIM,GAASY,CAAI,GACpBA;AAAA,EACR,CAAA,EAAE,QAAQ,MAAMjB,EAAa,OAAOK,CAAO,CAAC;AAC7C,SAAAL,EAAa,IAAIK,GAASI,CAAO,GAC1BA;AACT;","x_google_ignoreList":[0]}